/**
 * Created by Quyet on 11/11/2016.
 */
var web={};web.toggleElement=function(e){var t=window.getComputedStyle(e,null).getPropertyValue("display");"block"===t?e.style.display="none":e.style.display="block"},web.toggleClassName=function(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)},web.scrollTop=function(){var e;return"number"==typeof window.pageYOffset?e=window.pageYOffset:document.body&&document.body.scrollTop?e=document.body.scrollTop:document.documentElement&&document.documentElement.scrollTop&&(e=document.documentElement.scrollTop),e},web.popup=function(e){var t="popup";if(e!==(document.querySelector("."+t+" .message")||{}).innerHTML){var n=document.createElement("style"),o=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div");return n.innerHTML=[".",t,"{position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999}",".",t," .content, .",t," .modal{position:absolute;top:0;bottom:0;left:0;right:0}",".",t," .modal{background:#000;opacity:.7}",".",t," .content{margin:auto;background:#fff;border-radius:3px;box-sizing:content-box;padding:1vw;border:1px solid #ccc;max-width:calc(98vw - 2vw - 2px);max-height:calc(98vh - 2vw - 2px)}",".",t," .message{display:table}"].join(""),o.className=t,i.className="modal",l.className="content",a.className="message",o.disappear=function(){o.parentNode.removeChild(o)},i.onclick=o.disappear,a.innerHTML=e,l.appendChild(a),o.appendChild(n),o.appendChild(i),o.appendChild(l),document.body.appendChild(o),o.resize=function(){l.style.width=a.offsetWidth+"px",l.style.height=a.offsetHeight+"px"},o.resize(),window.onresize=o.resize,o}},web.slideshow=function(e,t){function n(){0===d?d=s-1:d--,i(d)}function o(){d===s-1?d=0:d++,i(d)}function i(e){for(var t=0;s>t;t++){var n=l.children[t];if(!n)return;var o=t===e?"add":"remove";n.classList[o](f),a&&a.children[t].classList[o](f)}}if(e){t||(t=5e3);var l=e.getElementsByClassName("photos")[0],a=e.getElementsByClassName("bullets")[0],c=e.getElementsByClassName("prev-button")[0],r=e.getElementsByClassName("next-button")[0];c&&r&&(c.addEventListener("click",n),r.addEventListener("click",o));var s=l.children.length,d=0;if(a)for(var u=0;s>u;u++){var p=document.createElement("b");!function(e){p.onclick=function(){i(e)}}(u),a.appendChild(p)}var f="active",h=setInterval(o,t);e.onmouseout=function(){h=setInterval(o,t)},e.onmouseover=function(){clearInterval(h)},i(0)}},web.setObjectOrientation=function(e,t,n){if("undefined"==typeof n||n)for(var o=0;o<e.length;o++)!function i(e){var n=e.naturalWidth||e.width,o=e.naturalHeight||e.height;n/o>t?(e.classList.add("landscape"),e.classList.remove("portrait")):(e.classList.add("portrait"),e.classList.remove("landscape")),"undefined"==typeof e.onload||e.loaded||(e.onload=function(){i(this),e.loaded=!0})}(e[o])},web.previewFile=function(e,t){var n=new FileReader;n.addEventListener("load",function(){e.src=n.result},!1),t&&n.readAsDataURL(t)},web.popupImages=function(e,t){function n(t){i.src=e[t].src,o.resize()}if(e){t||(t=0);var o=web.popup("<img src='"+e[t].src+"' id='image' style='max-width:calc(98vw - 2vw - 2px);max-height:calc(98vh - 2vw - 2px)'><button type='button' id='prev-btn'><i class='icon prev-icon'></i></button><button type='button' id='next-btn'><i class='icon next-icon'></i></button><button type='button' id='close-btn'><i class='icon close-icon'></i></button>"),i=o.querySelector("#image"),l=o.querySelector("#next-btn"),a=o.querySelector("#prev-btn"),c=o.querySelector("#close-btn");l.onclick=function(){e[++t]||(t=0),n(t)},a.onclick=function(){e[--t]||(t=e.length-1),n(t)},c.onclick=o.disappear}},web.ellipsisText=function(e,t){for(var n=e.innerHTML.split(" ");e.scrollHeight>e.offsetHeight;)n.pop(),e.innerHTML=n.join(" ")+(t||"...")},web.ellipsisTexts=function(e,t){function n(){[].forEach.call(e,function(e){e.innerHTML=e.myText,web.ellipsisText(e,t)})}[].forEach.call(e,function(e){e.myText=e.innerHTML}),n(),window.onresize=n},web.zoomImages=function(e,t,n){if(e&&t&&"none"!==window.getComputedStyle(t,null).getPropertyValue("display")){var o=document.createElement("div");o.style.display="none",o.style.position="fixed",o.style.pointerEvents="none",o.style.backgroundImage=n?"url('"+n+"')":"",o.style.backgroundRepeat="repeat",document.body.appendChild(o),[].forEach.call(e,function(e){e.onmousemove=function(e){e=window.event||e;var n=t.querySelector("img");n||(n=new Image,n.src=this.src,n.style.position="absolute",t.appendChild(n));var i=this.getBoundingClientRect(),l=e.clientX-i.left,a=e.clientY-i.top;n.style.left=t.clientWidth/2-l/i.width*n.width+"px",n.style.top=t.clientHeight/2-a/i.height*n.height+"px";var c=t.clientWidth*i.width/n.width,r=t.clientHeight*i.height/n.height;o.style.width=c+"px",o.style.height=r+"px",o.style.left=e.clientX-c/2+"px",o.style.top=e.clientY-r/2+"px",o.style.display="block"},e.onmouseout=function(){for(;t.firstChild;)t.removeChild(t.firstChild);o.style.display="none"}})}},web.abbreviateNumber=function(e,t,n){t||(t=1),t=Math.pow(10,t),n||(n=["k","m","b","t"]);for(var o=n.length-1;o>=0;o--){var i=Math.pow(10,3*(o+1));if(e>=i){e=Math.round(e*t/i)/t,1e3==e&&o<n.length-1&&(e=1,o++),e+=n[o];break}}return e},web.timeAgo=function(e,t){t||(t=[" years"," months"," days"," hours"," minutes"," seconds"]);var n=Math.floor((new Date-e)/1e3),o=Math.floor(n/31536e3);return o>1?o+t[0]:(o=Math.floor(n/2592e3),o>1?o+t[1]:(o=Math.floor(n/86400),o>1?o+t[2]:(o=Math.floor(n/3600),o>1?o+t[3]:(o=Math.floor(n/60),o>1?o+t[4]:Math.floor(n)+t[5]))))},!function(){Number.prototype.formatNumber=function(e,t,n){var o=this,e=isNaN(e=Math.abs(e))?2:e,t=void 0==t?".":t,n=void 0==n?",":n,i=0>o?"-":"",l=String(parseInt(o=Math.abs(Number(o)||0).toFixed(e))),a=(a=l.length)>3?a%3:0;return i+(a?l.substr(0,a)+n:"")+l.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(o-l).toFixed(e).slice(2):"")},Number.prototype.formatVND=function(e){return this.formatNumber(0,",",".")+(e||" VNƒê")}}(),web.toggleCheckboxes=function(e){var t=e.form.querySelectorAll("input[type='checkbox'][name='"+e.name+"']");[].forEach.call(t,function(n){n.onchange=function(){n===e?[].forEach.call(t,function(t){t.checked=e.checked}):(e.checked=!0,[].forEach.call(t,function(t){if(!t.checked)throw e.checked=!1,new Error}))}})};